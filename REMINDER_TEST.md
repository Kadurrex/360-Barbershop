# 🧪 בדיקת תזכורות - מדריך

## ⏰ איך לבדוק שהתזכורות עובדות

### אופציה 1: בדיקה מהירה (מומלץ!)

**צור תור לעוד 5 דקות:**

1. פתח `server.js`
2. מצא את השורה:
```javascript
if (minutesDiff >= 25 && minutesDiff <= 35) {
```

3. שנה ל:
```javascript
if (minutesDiff >= 3 && minutesDiff <= 6) {  // לבדיקה בלבד!
```

4. הפעל מחדש את השרת
5. קבע תור ל**עוד 5 דקות מעכשיו**
6. אשר אותו בדאשבורד
7. חכה 3-4 דקות
8. WhatsApp אמור להיפתח!

9. **אחרי הבדיקה - החזר ל:**
```javascript
if (minutesDiff >= 25 && minutesDiff <= 35) {
```

---

### אופציה 2: בדיקה אמיתית

**קבע תור לעוד שעה:**

1. קבע תור להיום ל**עוד שעה מעכשיו**
2. אשר אותו בדאשבורד
3. **השאר את השרת רץ!**
4. אחרי 30 דקות - WhatsApp ייפתח

---

## ✅ דרישות לתזכורת:

1. **התור מאושר** (סטטוס: approved) ✓
2. **השרת רץ** ✓
3. **התור בעתיד** ✓
4. **לא נשלחה תזכורת כבר** (reminderSent: false) ✓
5. **בין 25-35 דקות לפני** ✓

---

## 🔍 איך לבדוק בקונסול:

כשהתזכורת נשלחת, תראה:

```
⏰ שליחת תזכורת ללקוח...
שם: דני כהן
שעה: 14:00
קישור: https://wa.me/...
✅ Reminder link opened!

✅ Reminder sent for appointment: דני כהן at 14:00 (30 min before)
```

---

## 🐛 פתרון בעיות:

### אם לא עובד:
1. **בדוק בקונסול** - יש הודעות?
2. **בדוק appointments.json** - יש שדה `reminderSent: true`?
3. **בדוק שהשרת רץ** - אם עצרת אותו, לא יישלח
4. **בדוק את הסטטוס** - צריך להיות `approved`
5. **בדוק את התאריך** - צריך להיות היום!

### לבדוק ידנית:
```bash
# פתח את הקובץ
notepad appointments.json

# חפש את התור שלך
# וודא:
- "status": "approved"  ← חייב!
- "reminderSent": false או לא קיים
- "date": "2025-10-08"  ← היום
- "time": "14:00"  ← בעתיד
```

---

## 💡 טיפ לבדיקה:

**הדרך הכי מהירה:**
1. שנה ל-`minutesDiff >= 3 && minutesDiff <= 6`
2. קבע תור לעוד 5 דקות
3. אשר
4. חכה
5. התזכורת תגיע!
6. החזר לקוד המקורי

---

**עכשיו עם החלון המורחב (25-35 דקות) - יש סיכוי גבוה יותר שהתזכורת תישלח!** 🎯

