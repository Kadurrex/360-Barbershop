# 🧪 מדריך בדיקה - תכונות חדשות

## ✅ מה לבדוק:

### 1. **WhatsApp ללקוחות** 📱

#### בדיקה A: תור חדש
1. **פתח את האתר:** http://localhost:3000
2. **מלא טופס תור** (המצא פרטים)
3. **שלח**
4. **✅ בדוק:** האם WhatsApp נפתח עם הודעה למספר שלך?

#### בדיקה B: אישור תור
1. **פתח דאשבורד:** http://localhost:3000/admin.html
2. **סיסמה:** `360admin`
3. **לחץ "אשר תור"** על התור שיצרת
4. **✅ בדוק:** האם WhatsApp נפתח עם הודעה למספר הלקוח?

#### מה אמור להופיע בהודעה ללקוח:
```
✅ התור שלך אושר!

שלום [שם]! 👋

התור שלך במספרת 360 מעלות אושר בהצלחה!

📅 תאריך: [תאריך]
🕐 שעה: [שעה]
💇 שירות: [שירות]

📍 כתובת: ויצמן 1, כפר סבא
📞 טלפון: 09-7736351

⏰ תקבל תזכורת חצי שעה לפני התור.

נתראה בקרוב! 💈
```

---

### 2. **תזכורות אוטומטיות** ⏰

#### איך לבדוק:
**בדיקה מהירה (לא צריך לחכות 30 דקות!):**

1. **פתח את הטרמינל**
2. **חפש את השורה:**
   ```
   ✅ Reminder sent for appointment: [שם] at [שעה]
   ```

**הערה:** התזכורות יישלחו אוטומטית רק ל:
- תורים **מאושרים** (לא ממתינים!)
- **בדיוק 30 דקות** לפני השעה

**לבדיקה מלאה צריך לחכות לתור אמיתי**

---

### 3. **חסימת שעות** 🔒

#### בדיקה:
1. **קבע תור ב-14:00** (דרך האתר)
2. **נסה לקבוע תור נוסף** באותו תאריך
3. **בחר תאריך**
4. **✅ בדוק:** השעה 14:00 לא אמורה להופיע ברשימה!

---

### 4. **מניעת כפילויות** ⚠️

#### בדיקה:
1. **פתח 2 חלונות** של האתר
2. **בשניהם בחר אותו תאריך ושעה**
3. **שלח מהראשון** - יעבור ✅
4. **שלח מהשני** - יקבל שגיאה: "השעה הזו כבר תפוסה" ❌

---

### 5. **דאשבורד** 🎛️

#### מה לבדוק:
- ✅ **סטטיסטיקות** - מציג נכון?
- ✅ **רשימת תורים** - כל התורים נראים?
- ✅ **פילטרים** - עובדים?
- ✅ **אישור תור** - משנה סטטוס?
- ✅ **ביטול תור** - משנה סטטוס?
- ✅ **מחיקה** - מוחק תור?

---

## 🐛 בעיות אפשריות:

### אם WhatsApp לא נפתח אוטומטית:
**זה בסדר!** 
- תראה בקונסול קישור WhatsApp
- העתק והדבק בדפדפן
- זה פותח את WhatsApp Web עם ההודעה מוכנה

### אם התזכורות לא עובדות:
**לבדוק:**
1. השרת רץ?
2. התור **מאושר**? (לא ממתין)
3. התור הוא בעתיד?
4. עברו בדיוק 30 דקות? (המערכת בודקת כל דקה)

### אם הדאשבורד לא נטען:
1. הכתובת נכונה? `http://localhost:3000/admin.html`
2. השרת רץ?
3. נסה רענון (Ctrl+R)

---

## 📊 מה לראות בקונסול (טרמינל):

### כשמזמינים תור:
```
╔════════════════════════════════════════╗
║     🎉 תור חדש נקבע! NEW BOOKING!    ║
╚════════════════════════════════════════╝

👤 שם / Name: דני
📞 טלפון / Phone: 050-1234567
...
📱 WhatsApp Link: https://wa.me/...
✅ WhatsApp link opened!
```

### כשמאשרים תור:
```
Appointment [id] status updated: pending → approved
✅ Confirmation sent to client: דני
```

### כשמגיע זמן תזכורת:
```
⏰ שליחת תזכורת ללקוח...
שם: דני
שעה: 14:00
✅ Reminder link opened!
```

---

## 🎯 סדר בדיקה מומלץ:

1. **צעד 1:** קבע תור באתר
2. **צעד 2:** בדוק שWhatsApp נפתח (הודעה לבעלים)
3. **צעד 3:** כנס לדאשבורד
4. **צעד 4:** אשר את התור
5. **צעד 5:** בדוק שWhatsApp נפתח (הודעה ללקוח)
6. **צעד 6:** נסה לקבוע תור באותה שעה - אמור להיחסם
7. **צעד 7:** בטל תור בדאשבורד
8. **צעד 8:** בדוק שהשעה שוב פנויה

---

## ✨ אם הכל עובד:

**תראה:** 
- ✅ תורים נוספים בדאשבורד
- ✅ WhatsApp נפתח עם הודעות
- ✅ שעות נחסמות אוטומטית
- ✅ סטטיסטיקות מתעדכנות
- ✅ הכל עובד בסנכרון!

---

**אחרי הבדיקה תגיד לי מה עובד ומה לא, ונמשיך לשדרג! 🚀**

